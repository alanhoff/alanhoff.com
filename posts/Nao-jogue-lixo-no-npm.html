<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Blog pessoal sobre JavaScript, Node.js, AngularJs, sistemas embarcados e outras cachaças.">
  <meta name="author" content="Alan Hoffmeister <alanhoffmeister@gmail.com>">

  <title>Alan Hoffmeister</title>

  <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/css/custom.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/monokai_sublime.min.css" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

  <!-- Navigation -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a href="/" class="navbar-brand">Alan Hoffmeister</a>
      </div>
      <ul class="nav-social hidden-xs">
        <li>
          <a href="https://www.facebook.com/alan.hoffmeister"><i class="fa fa-fw fa-facebook"></i></a>
        </li>
        <li>
          <a href="https://plus.google.com/+AlanHoffmeister"><i class="fa fa-fw fa-google-plus"></i></a>
        </li>
        <li>
          <a href="https://twitter.com/alan_hoff"><i class="fa fa-fw fa-twitter"></i></a>
        </li>
        <li>
          <a href="https://br.linkedin.com/in/alanhoff"><i class="fa fa-fw fa-linkedin"></i></a>
        </li>
        <li>
          <a href="/rss.xml"><i class="fa fa-fw fa-rss"></i></a>
        </li>
      </ul>
    </div>
  </nav>

  
  <header>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="intro-text">
            <span class="name">Não jogue lixo no npm!</span>
            <hr class="star-light">
            <span class="skills">Criado por Alan Hoffmeister em 2014-10-21 23:00</span>
          </div>
        </div>
      </div>
    </div>
  </header>
  <section>
    <div class="container">
      <p>Sim, tudo o que está dentro do seu projeto é empacotado na hora de publicar o
seu pacote no npm, incluindo seus testes, documentação, imagens, descrição da
API e possíveis pornografias. Se o npm começar a ficar lento, a culpa é sua!
<!--more--></p>
<h3 id="os-arquivos-que-o-npm-n-o-precisa">Os arquivos que o npm NÃO precisa</h3>
<p>Pense um pouco comigo, toda vez que eu utilizo o <code>require(&#39;seu-modulo-lindo&#39;)</code>
estou usando a documentação do seu módulo? Estou usando os testes dele? Ou pior
ainda: estou usando o <strong><em>WEBSITE DO PROJETO</em></strong> (sim uma vez vi um tarball com o
gh-pages do projeto, e não era meu)? Obviamente você não precisa destes itens.
Então porque deixar esses arquivos na hora de rodar o <code>npm publish</code>?</p>
<p>Se eu quero realizar os testes do seu projeto, vou fazer o fork do mesmo,
instalar as dependências de desenvolvimento e rodar o comando de testes. Eu <strong><em>
não vou</em></strong> baixar o tarball do npm para fazer isso, muito menos para ler a
documentação.</p>
<p>Pode parecer besteira para alguns, mas se enviássemos somente os arquivos
necessários para um ambiente de produção, a instalação dos nossos projetos
iria demorar menos, iríamos consumir menos banda, o cache local dos pacotes
também diminuiria. Dica: fale com o seu chefe sobre redução de gastos.</p>
<h3 id="os-arquivos-que-o-npm-precisa">Os arquivos que o npm precisa</h3>
<p>Lembre-se destes três arquivos: <code>package.json</code>, <code>readme.md</code> e <code>license</code>.
Obviamente você também vai precisar de todos os arquivos necessários para seu
módulo rodar quando o outro cara fizer o <code>require</code> ou compilar binários na hora
da instalação.</p>
<ul>
<li><strong><code>package.json</code></strong>, acho que não precisa dar explicação, sem isso nem da para
publicar.</li>
<li><strong><code>readme.md</code>,</strong> além de servir para formatar a página do seu módulo no npm,
também é muito útil quando precisamos consular rapidamente algo utilizando o
<code>npm show modulo-lindo readme</code>.</li>
<li><strong><code>license</code></strong> é sempre necessário se você quiser deixar seu pacote dentro das
normas da sua licença.</li>
</ul>
<h3 id="o-npmignore-savando-voc-">O .npmignore savando você</h3>
<p>A primeira opção é utilizar o <code>.gitignore</code>, tudo o que está ali dentro o npm irá
ignorar na hora de publicar, mas também vai dar trabalho na hora do <code>git push</code>
pois certamente você vai querer mandar a documentação e os testes para o seu
repositório, para solucionar isso você pode utilizar o <code>.npmignore</code>, que
funciona exatamente igual ao <code>.gitignore</code> porém ele só é lido pelo npm na hora
de publicar um módulo. E aqui vai uma colinha pra você não precisar adicionar
arquivo por aquivo dentro do seu <code>.npmignore</code></p>
<pre><code># Primeiro ignoramos tudo
*
# Agora permitimos somente os arquivos necessários
<span class="hljs-change">!package.json</span>
<span class="hljs-change">!readme.md</span>
<span class="hljs-change">!license</span>
<span class="hljs-change">!lib/</span></code></pre>

<p>Pronto, após seguir esses simples passos, você já estará capacitado a parar de
ferrar com o npm.</p>

    </div>
  </section>
  <section class="success">
    <div class="container">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'alanhoffmeister'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
    </div>
  </section>


  <!-- Footer -->
  <footer class="text-center">
    <div class="footer-below">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            Licença ISC - Alan Hoffmeister 2014
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
  <div class="scroll-top page-scroll visible-xs visble-sm">
    <a class="btn btn-primary" href="#page-top">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>

  <script src="/assets/js/jquery-1.11.0.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
  <script src="/assets/js/classie.js"></script>
  <script src="/assets/js/cbpAnimatedHeader.min.js"></script>
  <script src="/assets/js/jqBootstrapValidation.js"></script>
  <script src="/assets/js/freelancer.js"></script>

</body>

</html>
